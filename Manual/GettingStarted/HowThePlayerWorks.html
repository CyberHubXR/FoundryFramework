<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>How the player works | Foundry Core </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="How the player works | Foundry Core ">
      
      
      <link rel="icon" href="../../Media/foundry_icon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/CyberHubXR/FoundryCore/blob/main/Documentation/Manual/GettingStarted/HowThePlayerWorks.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">
  </head>

  <script type="module" src="./../../public/docfx.min.js"></script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../Media/foundry_icon.png" alt="Foundry Core">
            Foundry Core
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="how-the-player-works">How the player works</h1>

<p>A high level overview of where everything is</p>
<h2 id="prefabs">Prefabs</h2>
<p>There are two main prefabs that the player systems uses, each for a different control scheme (XR, Desktop).</p>
<h3 id="the-persistant-prefab">The persistant prefab</h3>
<p>This isn't explicitly a player prefab, but the player relies on it. It contains a group of objects and scripts that get set with DoNotDestroyOnLoad() and handle things like loading screens, the player camera, input bindings, etc.
It's important to have an instance of this prefab in the starting scene of you app so it can ride along to all the others.</p>
<h3 id="control-rigs">Control rigs</h3>
<ol>
<li>DesktopRig</li>
<li>XRRig</li>
</ol>
<p>Depending on if an XR runtime was found or not one of the two prefabs are created, they contain the scripts and behaviours needed for the chosen mode to provide ik targets and movement input.
It's woth noting that neither of these prefabs contain a camera, instead when they are created they parent the camera in the persistant prefab to themselves.
(This is a work around for steam audio requiring an audio listener to be present on scene start, but may be useful for other things as well)</p>
<h3 id="interaction-rigs">Interaction rigs</h3>
<p>An interaction rig is a rig that &quot;borrows&quot; the control rig, parents it to itself and uses it as a source of input. And
as the name implies, it provides a way of interacting with the scene.</p>
<p>We have a couple of example rigs in samples showing off how all the different scripts we have for players work together.
We suggest choosing the one that best fits and modifying it to suit your needs.</p>
<ol>
<li>Menu Player (two raycasters and mouse support on desktop)</li>
<li>OfflinePlayer</li>
<li>NetworkedPlayer - (default for most things, a networked player with an avatar and interaction)</li>
</ol>
<p>Something to note is that since the control rigs aren't part of the interaction rig prefab, you usually wouldn't be able to
follow a normal game object based approach to referencing the controllers/head. But we have networked &quot;clones&quot; of the head
and hand trackers that have updated positions and rotations that you can use instead. When one of these trackers is active
the game object will be enabled, otherwise, as in the case of the desktop rig's hands, or an non-full-body tracking setup
some will be disabled. Also note that sometimes we enable a tracker that was once disabled and vice-versa as sometimes the
desktop rig will emulate controllers or the XR rig will switch between fbt and 3point tracking.</p>

</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Foundry Core Docs
        </div>
      </div>
    </footer>
  </body>
</html>
